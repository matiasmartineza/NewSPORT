{% extends 'base.html' %}
{% block content %}
<h1>Â¡Felicidades!</h1>
<p>Completaste {{ percent }}% de la rutina en {{ time }}.</p>
{% if muscles %}
<p>Trabajaste los siguientes grupos musculares:</p>
<ul>
  {% for m in muscles %}
  <li>{{ m }}</li>
  {% endfor %}
</ul>
<canvas id="muscleChart" width="300" height="300"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const counts = {{ counts|tojson }};
const ctx = document.getElementById('muscleChart').getContext('2d');
new Chart(ctx, {
  type: 'pie',
  data: {
    labels: Object.keys(counts),
    datasets: [{ data: Object.values(counts) }]
  }
});
</script>
{% else %}
<p>No marcaste ejercicios como realizados.</p>
{% endif %}
<p><a href="{{ url_for('index') }}">Volver al inicio</a></p>
{% endblock %}
